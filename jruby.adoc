IiU -- JRuby 1.7.19, rails-4.2.0
================================
Installation in Ubuntu — khkoether[at]kahweb[dot]de

:icons:
:Author Initials: KHK
:creativecommons-url: http://creativecommons.org/licenses/by/4.0/deed.de
:mit-url:             http://opensource.org/licenses/mit-license.php  
:ubuntu-url:          http://www.ubuntu.com/
:asciidoctor-url:     http://asciidoctor.org/
:asciidoctordocs-url: http://asciidoctor.org/docs/
:git-url:             http://git-scm.com/
:git-download-url:    https://www.kernel.org/pub/software/scm/git/

:java-url:            http://www.oracle.com/technetwork/java/javase/downloads/index.html
:jruby-url:           http://jruby.org/
:jruby-download-url:  http://jruby.org/download

:jdk-url:             link:jdk.html
:jruby-version:       1.7.19
:jruby_1st-url:       link:jruby_1st.html

Version 3.1.0, Februar 2015


Abstract
--------
Dieser Artikel ist eine Schritt-für-Schritt Anleitung zur Installation 
von {jruby-url}[JRuby 1.7.19] unter GNU/Linux.
 
Die Programmiersprache {jruby-url}[JRuby] ist die Implementation 
von {ruby-url}[Ruby] in Java, die wiederum die Grundlage für das 
WebApplication Framework {rubyonrails-url}[Ruby on Rails] bildet. 

Der Artikel ist in {asciidoctordocs-url}[AsciiDoc] geschrieben 
und mit _Asciidoctor {asciidoctor-version}_ erstellt worden.

[CAUTION]
====
Zu beachten ist, dass so ein Dokument zum Einen nie abschliessend 
sein kann, und zum Anderen bestimmte Konfigurationen anders, oder 
auf einem anderem Weg durchgeführt werden können. 
Gerne nehme ich Verbesserungsvorschläge entgegen.

Es gilt wie immer: Verwendung der Anleitung auf eigene Gefahr.
====


Vorraussetzungen
----------------
Die Installation wird für {ubuntu-url}[Ubuntu 14.04 LTS (Trusty Tahr)] 
beschrieben. +
Gleichwohl sind die einzelnen Schritte auch für 
andere Debian-basierte GNU/Linux Distributionen übertragbar.

[TIP]
====
Ubuntu 14.04 LTS (Trusty Tahr) enthält das Paket _jruby_1.5.6-7_all_. 
====


Download
--------
* {jruby-download-url}[JRuby 1.7.19] +    
  `jruby-bin-1.7.19.tar.gz`  (ca. 32M) +
  2015-01-30 (Release date) -- Expect a new release about every 3 weeks + 
  JRuby 1.7.19 is our twenty-second update release since JRuby 1.7.0. +
  The primary goal of 1.7 point releases is to fill out any missing 
  compatibility issues with Ruby 1.9.3. +
  +
  This release was pushed forward quicker than planned to address issues running Rails 4.2!
  
[NOTE] 
====
Die neue _JRuby-Version 1.7_ wird seit 18 Monaten mit bestimmten Zielen entwickelt:

. JDK-Version 6 ist (mindestens) notwendig 
. Unterstützung der JDK-Version 7
. JRuby wird als im Modus _Ruby 1.9.3_ ausgeführt (neuer Default)
. JRuby unterstützt das neue Java-Feature 'invokedynamic' +
  (auch wenn es für den Moment ausgeschaltet ist - "due to JVM issues" ) +
  &rarr; http://www.jruby.org/2012/10/22/jruby-1-7-0.html[JRuby 1.7.0 Released]
  
.Mein Bauchgefühl sagt:
. JRuby 1.6.x -> JDK 6
. JRuby 1.7.x -> JDK 7

Andere mögliche Kombinationen erhöhen einfach den Beschreibungs-Aufwand für Support.     
====

[NOTE] 
====
Die Installation des _OpenJDK_ (_Oracle JDK_) wurde vom Benutzer 'root' 
systemweit durchgeführt +
&rarr; {jdk-url}[JDK]. +
Die Installation von _JRuby_ und _Ruby on Rails_ wird vom 
Benutzer 'sid' ausgeführt. 
----
$ ls -l 
-rw-rw-r-- 1 sid sid 32742143 Feb  8 13:54 jruby-bin-1.7.19.tar.gz
----
====


Installation: JRuby {jruby-version}
-----------------------------------
Zusätzliche Software-Pakete  
sollten im Verzeichnis +/opt+ (Optional) installiert werden. 

[CAUTION]
====
Installation im Verzeichnis `/opt/JRuby/sid` (mit dem Benutzer 'sid')
====

*Step 1*: Auspacken des Source-Code
----
$ tar xvzf jruby-bin-1.7.19.tar.gz
[...]

$ ls -l jruby-*
drwxr-xr-x 7 sid sid 4096 Jan 29 18:35 jruby-1.7.19
----

*Step 2*: Ziel-Verzeichnis anlegen, JRuby-Verzeichnis verschieben
----
$ sudo mkdir -p /opt/JRuby/sid 
$ sudo chown sid.sid /opt/JRuby/sid
----

----
$ mv jruby-1.7.19/ /opt/JRuby/sid
----

*Step 3*: Installation verifizieren
----
$ cd /opt/JRuby/sid/jruby-1.7.19
$ ls -l 
drwxr-xr-x 2 sid sid   4096 Feb  8 13:56 bin
-rw-r--r-- 1 sid sid 137174 Jan 29 18:27 COPYING
drwxrwxr-x 4 sid sid   4096 Feb  8 13:56 docs
drwxr-xr-x 4 sid sid   4096 Feb  8 13:56 lib
-rw-r--r-- 1 sid sid   2572 Jan 29 18:27 LICENSE.RUBY
drwxrwxr-x 6 sid sid   4096 Feb  8 13:56 samples
drwxrwxr-x 3 sid sid   4096 Feb  8 13:56 tool
----

----
$ ls -l bin
-rwxr-xr-x 1 sid sid   5670 Jan 29 18:32 ast       <1>
-rw-r--r-- 1 sid sid     40 Jan 29 18:32 ast.bat   <2>
-rwxr-xr-x 1 sid sid    123 Jan 29 18:32 gem
-rw-r--r-- 1 sid sid     40 Jan 29 18:32 gem.bat
-rwxr-xr-x 1 sid sid    323 Jan 29 18:32 irb
-rw-r--r-- 1 sid sid     40 Jan 29 18:32 irb.bat
-rwxr-xr-x 1 sid sid    547 Jan 29 18:32 jgem
-rw-r--r-- 1 sid sid     41 Jan 29 18:32 jgem.bat
-rwxr-xr-x 1 sid sid    390 Jan 29 18:32 jirb
-rw-r--r-- 1 sid sid     41 Jan 29 18:32 jirb.bat
-rwxr-xr-x 1 sid sid   1935 Jan 29 18:32 jirb_swing
-rw-r--r-- 1 sid sid     47 Jan 29 18:32 jirb_swing.bat
-rwxr-xr-x 1 sid sid  11474 Jan 29 18:32 jruby
-rwxr-xr-x 1 sid sid  11474 Jan 29 18:32 jruby.bash
-rw-r--r-- 1 sid sid    125 Jan 29 18:32 jruby.bat
-rwxr-xr-x 1 sid sid    188 Jan 29 18:32 jrubyc
-rw-r--r-- 1 sid sid     43 Jan 29 18:32 jrubyc.bat
-rw-r--r-- 1 sid sid    245 Jan 29 18:32 jrubyd.bat
-rw-r--r-- 1 sid sid 742400 Jan 29 18:32 jruby.dll
-rw-r--r-- 1 sid sid 680448 Jan 29 18:32 jruby.exe
-rwxr-xr-x 1 sid sid   8979 Jan 29 18:32 jruby.sh
-rw-r--r-- 1 sid sid 682496 Jan 29 18:32 jrubyw.exe
-rwxr-xr-x 1 sid sid    451 Jan 29 18:32 rake
-rw-r--r-- 1 sid sid     41 Jan 29 18:32 rake.bat
-rwxr-xr-x 1 sid sid    451 Jan 29 18:32 rdoc
-rw-r--r-- 1 sid sid     41 Jan 29 18:32 rdoc.bat
-rwxr-xr-x 1 sid sid    449 Jan 29 18:32 ri
-rw-r--r-- 1 sid sid     39 Jan 29 18:32 ri.bat
-rwxr-xr-x 1 sid sid    152 Jan 29 18:32 testrb
-rw-r--r-- 1 sid sid     43 Jan 29 18:32 testrb.bat
----
<1> Kommando #ast# für ein _GNU/Linux-System_
<2> Kommando #ast.bat# für ein _MS Windows-System_

*Step 4:* Der Pfad zum Verzeichnis `/opt/JRuby/sid` muß gesetzt werden.
----
$ cd /opt/JRuby/sid
$ ln -s jruby-1.7.19 current19

$ ls -lv
lrwxrwxrwx 1 sid sid   15 Dez  5 16:53 current -> jruby-1.7.16.1/     <1>
lrwxrwxrwx 1 sid sid   15 Dez  5 16:53 current16 -> jruby-1.7.16.1/   <1>
lrwxrwxrwx 1 sid sid   12 Dez 23 18:03 current18 -> jruby-1.7.18
lrwxrwxrwx 1 sid sid   12 Feb  8 14:01 current19 -> jruby-1.7.19
-rw-r--r-- 1 sid sid  131 Dez  5 16:52 jruby.path.sh
-rw-r--r-- 1 sid sid  133 Dez  5 16:52 jruby16.path.sh
-rw-r--r-- 1 sid sid  133 Dez 23 18:07 jruby18.path.sh   
-rw-r--r-- 1 sid sid  133 Feb  8 14:14 jruby19.path.sh   <2> 
drwxr-xr-x 8 sid sid 4096 Dez  5 16:51 jruby-1.7.16.1
drwxr-xr-x 7 sid sid 4096 Dez 23 18:07 jruby-1.7.18
drwxr-xr-x 7 sid sid 4096 Feb  8 14:09 jruby-1.7.19
----
<1> Die symbolischen links 'current' und 'current16' zeigen auf die gleiche
    JRuby-Installation 'jruby-1.7.16.1' -- meine 'default'-Installation.
<2> Erstellen Sie eine Datei `jruby19.path.sh` (siehe <<_anhang,[Anhang]>>). 

[CAUTION]
====
In der Datei können Sie ebenfalls entscheiden auf welche der zu diesem
Zeitpunkt verfügbaren Java-Versionen Sie sich beziehen.

Wenn Sie die für das System installierte _JDK_-Version verwenden ... bedeutet 
das ... kein Eintrag. Haben Sie zusätzlich eine _JDK_-Version installiert
sollten Sie die hierfür notwendigen Umgebungsvariablen ebenfalls in dieser 
Datei setzen.
==== 

[NOTE] 
=========================================================
Achtung: Ausführen der Datei mit dem Punkt-Operator!
----
$ . jruby19.path.sh   <1>
---- 
<1> Oder mit dem Bash-Builtin Kommando: #source &nbsp; jruby19.path.sh#
=========================================================


*Step 5:* Check

.Die Java-Version
----
$ java -version
java version "1.7.0_75"
OpenJDK Runtime Environment (IcedTea 2.5.4) (7u75-2.5.4-1~trusty1)
OpenJDK 64-Bit Server VM (build 24.75-b04, mixed mode)
----

.Die JRuby-Version ...
[options="nowrap"]
----
$ which jruby
/opt/JRuby/sid/current19/bin/jruby

$ jruby --version
jruby 1.7.19 (1.9.3p551) 2015-01-29 20786bd on OpenJDK 64-Bit Server VM 1.7.0_75-b13 +jit [linux-amd64]

$ jruby --version --1.8   <1>
jruby 1.7.19 (ruby-1.8.7p376) 2015-01-29 20786bd on OpenJDK 64-Bit Server VM 1.7.0_75-b13 +jit [linux-amd64]

$ jruby --version --2.0   <2>
jruby 1.7.19 (2.0.0p598) 2015-01-29 20786bd on OpenJDK 64-Bit Server VM 1.7.0_75-b13 +jit [linux-amd64]
----
<1> Weitere Möglichkeit: + 
    #JRUBY_OPTS=--1.8 &nbsp; jruby --version#
<2> Zu diesem Zeitpunkt als Experimentell gekennzeichnet.    

.Vollständigkeit
----
$ jruby -ropenssl -rzlib -rreadline -e "puts 'Happy new JRuby'"   <1>
Happy new JRuby
----
<1> Die Bibliothek _openssl_ ist in JRuby 1.7 bereits enthalten. +
    Eine vorher notwendige zusätzliche Installation entfällt. +
    &rarr; http://jruby.org/openssl[JRuby Builtin OpenSSL Support] 

.JRuby 1.7.19: _irb_, _jirb_
----
$ jirb   <1>
irb(main):001:0> RUBY_VERSION
=> "1.9.3"
irb(main):002:0> RUBY_PATCHLEVEL
=> 551
irb(main):003:0> Time.now.to_s
=> "2015-02-08 14:08:40 +0100"
irb(main):004:0> Time.now.tuesday?
=> false
irb(main):005:0> Time.now.sunday?
=> true
----
<1> Verwendet: Ruby 1.9.3p551 (default)

[NOTE]
====
Der Schalter #-S# führt dazu, daß für das Script zuerst  
das Verzeichnis `${JRUBY_HOME}/bin` geprüft wird -- und
erst im Anschluß der gesetzte +PATH+. 
----
$ jruby -S ...
----

Mit der Umgebungsvariablen _JRUBY_OPTS_ kann der ausgeführte Ruby-Modus 
(_1.8_ oder _1.9_ oder _2.0_) gesteuert werden.

----
$ export JRUBY_OPTS=--1.9   <1>
----
<1> Mit der JRuby-Version 1.7.x ist der Wert _--1.9_ der Standard!
====


Rubygems
--------
_RubyGems_ (oder kurz Gems) ist das offizielle Paketsystem für die 
Programmiersprache Ruby. Mit ihm hat der Anwender die Möglichkeit, 
mehrere (zum Beispiel ältere oder jüngere) Versionen eines Programmes, 
Programmteiles oder einer Bibliothek gesteuert nach Bedarf einzurichten, 
zu verwalten oder auch wieder zu entfernen. +
&rarr; http://de.wikipedia.org/wiki/RubyGems[Wikipedia: RubyGems]

[NOTE]
====
Die Aktualisierung der JRuby-Installation wird mit dem Benutzer 'sid' durchgeführt.
====

*Step 0:* Vorraussetzung für die nächsten Befehle ist ein 
funktionierender +PATH+-Eintrag für den Benutzer 'sid' 
auf die _JRuby 1.7.19_-Installation:

[options="nowrap"]
----
$ which gem
/opt/JRuby/sid/current19/bin/gem

$ which jgem
/opt/JRuby/sid/current19/bin/jgem
----

Dann gehen auch die folgenden Befehle

----
$ gem -v
2.4.5

$ gem list --local

*** LOCAL GEMS ***

axiom-types (0.1.1)
coercible (1.0.0)
descendants_tracker (0.0.4)
equalizer (0.0.9)
ffi (1.9.3 java)    <1>
ice_nine (0.11.1)
jar-dependencies (0.1.2)
jruby-openssl (0.9.5 java)
json (1.8.0 java)
krypt (0.0.2)
krypt-core (0.0.2 universal-java)
krypt-provider-jdk (0.0.2)
maven-tools (1.0.7)
rake (10.1.0)
rdoc (4.1.2)
ruby-maven (3.1.1.0.8)
ruby-maven-libs (3.1.1)
thread_safe (0.3.4 java)
virtus (1.0.4)
----
<1> In _Java_ implementierte _Ruby_-Bibliothek!


update
~~~~~~
*Step 1:* Das Programm '(j)gem' aktualisieren (als Benutzer 'sid')
----
$ gem update --system
Latest version currently installed. Aborting.   <1>
----
<1> 'gem' ist aktuell!

[TIP]
.gem command reference
====
*GEM UPDATE*

Usage
----
gem update REGEXP [REGEXP ...] [options]
----

_Options_: +

* -​-system [VERSION] - Update the RubyGems system software
* -​-platform PLATFORM - Specify the platform of gem to update
* -​-[no-]prerelease - Allow prerelease versions of a gem as update targets

-> http://guides.rubygems.org/command-reference/[RubyGems Guides: COMMAND REFERENCE]
====

----
$ gem -v
2.4.5 

$ jgem -v
2.4.5
----

[NOTE]
====
.(j)gem  
An sich können beide Programme benutzt werden, wobei sowohl der Aufruf
und auch deren Ergebnisse identisch sind.
Sie sind ausschließlich aus Bequemlichkeit
für eine 'private' Sichtweise alternativ vorhanden. 

Das *gem* betont die Verbundenheit zu Ruby, während *jgem*
wiederum auf die Umsetzung in Java hinweist.

Praktisch sollen die Programme _etwas?_ differieren ... und 
das Angebot *jgem* ist _mehr?_ up-to-date ... 

Persönlich favorisiere ich *jruby -S gem ...* -- aber *jgem ...* äh *gem ...* ist kürzer ;-)
====


*Step 2:* Installierte RubyGems aktualisieren
----
$ gem update
Updating installed gems
Updating ffi
Fetching: ffi-1.9.6-java.gem (100%)
Successfully installed ffi-1.9.6-java
Updating jar-dependencies
Fetching: jar-dependencies-0.1.7.gem (100%)
Successfully installed jar-dependencies-0.1.7
Updating jruby-openssl
Fetching: jruby-openssl-0.9.6-java.gem (100%)
Successfully installed jruby-openssl-0.9.6-java
Updating json
Fetching: json-1.8.2-java.gem (100%)
Successfully installed json-1.8.2-java
Updating rake
Fetching: rake-10.4.2.gem (100%)
Successfully installed rake-10.4.2
Updating rdoc
Fetching: rdoc-4.2.0.gem (100%)
Depending on your version of ruby, you may need to install ruby rdoc/ri data:

<= 1.8.6 : unsupported
 = 1.8.7 : gem install rdoc-data; rdoc-data --install
 = 1.9.1 : gem install rdoc-data; rdoc-data --install
>= 1.9.2 : nothing to do! Yay!
Successfully installed rdoc-4.2.0
Gems updated: ffi jar-dependencies jruby-openssl json rake rdoc   <1>
----
<1> Sechs _Gems_ aktualisiert! 
   
----
$ gem list --local

*** LOCAL GEMS ***

axiom-types (0.1.1)
coercible (1.0.0)
descendants_tracker (0.0.4)
equalizer (0.0.9)
ffi (1.9.6 java, 1.9.3 java)
ice_nine (0.11.1)
jar-dependencies (0.1.7, 0.1.2)
jruby-openssl (0.9.6 java, 0.9.5 java)
json (1.8.2 java, 1.8.0 java)
krypt (0.0.2)
krypt-core (0.0.2 universal-java)
krypt-provider-jdk (0.0.2)
maven-tools (1.0.7)
rake (10.4.2, 10.1.0)
rdoc (4.2.0, 4.1.2)
ruby-maven (3.1.1.0.8)
ruby-maven-libs (3.1.1)
thread_safe (0.3.4 java)
virtus (1.0.4)
----


*Step 3:* Die _Ruby-Documentation_ installieren
----
$ gem install rdoc-data
Fetching: rdoc-data-4.0.1.gem (100%)
rdoc-data is only required for C ruby 1.8.7 or 1.9.1.

rdoc-data is required for JRuby.   <1>

To install ri data for RDoc 4.0+ run:

  rdoc-data --install

Successfully installed rdoc-data-4.0.1
1 gem installed
----
<1> Notwendig für _JRuby_!

[options="nowrap"]
----
$ which rdoc-data
/opt/JRuby/sid/current19/bin/rdoc-data

$ rdoc-data --install   <1>
/opt/JRuby/sid/jruby-1.7.19/lib/ruby/gems/shared/gems/rdoc-4.2.0/lib/rdoc/ri/paths.rb:15 warning: already initialized constant BASE
/opt/JRuby/sid/jruby-1.7.19/lib/ruby/gems/shared/gems/rdoc-4.2.0/lib/rdoc/ri/paths.rb:29 warning: already initialized constant HOMEDIR
----
<1> Installs updated ruby 1.9.3 system ri data (core + stdlib)

----
$ ri Array#each
= Array#each

(from ruby core)
 -----------------------------------------------------------------------------
  ary.each {|item| block }   -> ary
  ary.each                   -> an_enumerator

 -----------------------------------------------------------------------------

Calls block once for each element in self, passing that element as a
parameter.

If no block is given, an enumerator is returned instead.

  a = [ "a", "b", "c" ]
  a.each {|x| print x, " -- " }

produces:

  a -- b -- c --
----


Installation: Ruby on rails-4.2.0
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
*Step 0* 
----
# gem search ^rails$ --remote

*** REMOTE GEMS ***

rails (4.2.0)   <1>
----
<1> Seit dem 19.12.2014 ist das die neueste Version des RubyGem _rails_.

[TIP]
====
Eine mögliche lokale RubyGems-Dokumentation wird nicht durchgeführt. 
----
$ gem env
RubyGems Environment:
  - RUBYGEMS VERSION: 2.4.5
  - RUBY VERSION: 1.9.3 (2015-01-29 patchlevel 551) [java]
  ...
  - GEM CONFIGURATION:
     - :update_sources => true
     - :verbose => true
     - :backtrace => false
     - :bulk_threshold => 1000
     - "install" => "--no-rdoc --no-ri --env-shebang"   <1>
     - "update" => "--no-rdoc --no-ri --env-shebang"
  ...  
---- 
<1> In der Regel wird die offizielle Dokumentation im Internet genutzt: +
    -> http://rubygems.org/ +
    -> http://guides.rubyonrails.org/ 
====

Mit #gem install ...# werden auch alle Abhängigkeiten zu anderen RubyGems aufgelöst. 

----
$ gem install rails   
Fetching: minitest-5.5.1.gem (100%)
Successfully installed minitest-5.5.0
...
Fetching: rails-4.2.0.gem (100%)
Successfully installed rails-4.2.0
32 gems installed   <1>
----
<1> Mit dem RubyGem _rails-4.2.0_ wurden insgesamt 32 Gems installiert. +
    Hinweis: Weitere RubyGems müssen für das Framework *Ruby on Rails* installiert werden.

[NOTE]
====
Alternativ kann _Rails_ mit der Angabe einer Version installiert werden.
----
# gem install rails --version 4.1.9

# gem install rails --version '~> 4.1.9'   <1>
----
<1> Twiddle Wakka: '~> 4.1.9' bedeutet, das die höchste Gem-Version von Rails +
    im Bereich von >= 4.1.9 und < 4.2 installiert wird. 
====


asciidoctor
~~~~~~~~~~~ 
----
$ gem install asciidoctor   <1> 
Fetching: asciidoctor-1.5.2.gem (100%)
Successfully installed asciidoctor-1.5.2
1 gem installed

$ gem install coderay   <2>  
Fetching: coderay-1.1.0.gem (100%)
Successfully installed coderay-1.1.0
1 gem installed
----
<1> *Asciidoctor* is an open source Ruby processor for converting _AsciiDoc_ markup +
    into HTML 5, DocBook 4.5 and other formats.
<2> *CodeRay* is a fast and easy syntax highlighting for selected languages, written in Ruby. +
    Comes with RedCloth integration and LOC counter.


pry
~~~~
----
$ gem install pry   <1>
Fetching: spoon-0.0.4.gem (100%)
Successfully installed spoon-0.0.4
Fetching: method_source-0.8.2.gem (100%)
Successfully installed method_source-0.8.2
Fetching: slop-3.6.0.gem (100%)
Successfully installed slop-3.6.0
Fetching: pry-0.10.1-java.gem (100%)
Successfully installed pry-0.10.1-java
4 gems installed
----
<1> An IRB alternative and runtime developer console.


sinatra
~~~~~~~ 
----
# gem install sinatra   <1>
Fetching: rack-protection-1.5.3.gem (100%)
Successfully installed rack-protection-1.5.3
Fetching: sinatra-1.4.5.gem (100%)
Successfully installed sinatra-1.4.5
2 gems installed
----
<1> *Sinatra* ist eine _freie_ und _open source Webapplikationsbibliothek_ und + 
    eine in Ruby geschriebene _domänenspezifische_ Sprache. +
    *Sinatra* setzt das Rack Webserver-Interface voraus. +
    &rarr; http://de.wikipedia.org/wiki/Sinatra_%28Software%29[Wikipedia: Sinatra (Software)]

    
list
~~~~  
*Step 5:* Liste der installierte RubyGems
----
$ gem list --local

*** LOCAL GEMS ***

actionmailer (4.2.0)
actionpack (4.2.0)
actionview (4.2.0)
activejob (4.2.0)
activemodel (4.2.0)
activerecord (4.2.0)
activesupport (4.2.0)
arel (6.0.0)
asciidoctor (1.5.2)
axiom-types (0.1.1)
builder (3.2.2)
bundler (1.7.12)
coderay (1.1.0)
coercible (1.0.0)
descendants_tracker (0.0.4)
equalizer (0.0.9)
erubis (2.7.0)
ffi (1.9.6 java, 1.9.3 java)
globalid (0.3.2)
hike (1.2.3)
i18n (0.7.0)
ice_nine (0.11.1)
jar-dependencies (0.1.7, 0.1.2)
jruby-openssl (0.9.6 java, 0.9.5 java)
json (1.8.2 java, 1.8.0 java)
krypt (0.0.2)
krypt-core (0.0.2 universal-java)
krypt-provider-jdk (0.0.2)
loofah (2.0.1)
mail (2.6.3)
maven-tools (1.0.7)
method_source (0.8.2)
mime-types (2.4.3)
minitest (5.5.1)
multi_json (1.10.1)
nokogiri (1.6.6.2 java)
pry (0.10.1 java)
rack (1.6.0)
rack-protection (1.5.3)
rack-test (0.6.3)
rails (4.2.0)
rails-deprecated_sanitizer (1.0.3)
rails-dom-testing (1.0.5)
rails-html-sanitizer (1.0.1)
railties (4.2.0)
rake (10.4.2, 10.1.0)
rdoc (4.2.0, 4.1.2)
rdoc-data (4.0.1)
ruby-maven (3.1.1.0.8)
ruby-maven-libs (3.1.1)
sinatra (1.4.5)
slop (3.6.0)
spoon (0.0.4)
sprockets (2.12.3)
sprockets-rails (2.2.4)
thor (0.19.1)
thread_safe (0.3.4 java)
tilt (1.4.1)
tzinfo (1.2.2)
virtus (1.0.4)
----

----
$ ls -lrt /opt/JRuby/sid/jruby-1.7.19/bin
-rw-r--r-- 1 khk khk     43 Jan 29 18:32 testrb.bat
-rwxr-xr-x 1 khk khk    152 Jan 29 18:32 testrb
-rw-r--r-- 1 khk khk     39 Jan 29 18:32 ri.bat
-rw-r--r-- 1 khk khk     41 Jan 29 18:32 rdoc.bat
-rw-r--r-- 1 khk khk     41 Jan 29 18:32 rake.bat
-rw-r--r-- 1 khk khk 682496 Jan 29 18:32 jrubyw.exe
-rwxr-xr-x 1 khk khk   8979 Jan 29 18:32 jruby.sh
-rw-r--r-- 1 khk khk 680448 Jan 29 18:32 jruby.exe
-rw-r--r-- 1 khk khk 742400 Jan 29 18:32 jruby.dll
-rw-r--r-- 1 khk khk    245 Jan 29 18:32 jrubyd.bat
-rw-r--r-- 1 khk khk     43 Jan 29 18:32 jrubyc.bat
-rwxr-xr-x 1 khk khk    188 Jan 29 18:32 jrubyc
-rw-r--r-- 1 khk khk    125 Jan 29 18:32 jruby.bat
-rwxr-xr-x 1 khk khk  11474 Jan 29 18:32 jruby.bash
-rw-r--r-- 1 khk khk     47 Jan 29 18:32 jirb_swing.bat
-rwxr-xr-x 1 khk khk   1935 Jan 29 18:32 jirb_swing
-rw-r--r-- 1 khk khk     41 Jan 29 18:32 jirb.bat
-rwxr-xr-x 1 khk khk    390 Jan 29 18:32 jirb
-rw-r--r-- 1 khk khk     41 Jan 29 18:32 jgem.bat
-rwxr-xr-x 1 khk khk    547 Jan 29 18:32 jgem
-rw-r--r-- 1 khk khk     40 Jan 29 18:32 irb.bat
-rwxr-xr-x 1 khk khk    323 Jan 29 18:32 irb
-rw-r--r-- 1 khk khk     40 Jan 29 18:32 gem.bat
-rwxr-xr-x 1 khk khk    123 Jan 29 18:32 gem
-rw-r--r-- 1 khk khk     40 Jan 29 18:32 ast.bat
-rwxr-xr-x 1 khk khk   5670 Jan 29 18:32 ast
-rwxr-xr-x 1 khk khk  11474 Jan 29 18:32 jruby
-rwxr-xr-x 1 khk khk    534 Feb  8 14:13 bundle-with-jars
-rwxr-xr-x 1 khk khk    486 Feb  8 14:13 rake
-rwxr-xr-x 1 khk khk    486 Feb  8 14:13 rdoc
-rwxr-xr-x 1 khk khk    484 Feb  8 14:13 ri
-rwxr-xr-x 1 khk khk    565 Feb  8 14:18 rdoc-data
-rwxr-xr-x 1 khk khk    502 Feb  8 14:29 nokogiri    <1>
-rwxr-xr-x 1 khk khk    494 Feb  8 14:29 erubis
-rwxr-xr-x 1 khk khk    488 Feb  8 14:29 rackup
-rwxr-xr-x 1 khk khk    486 Feb  8 14:29 tilt
-rwxr-xr-x 1 khk khk    506 Feb  8 14:29 sprockets
-rwxr-xr-x 1 khk khk    498 Feb  8 14:29 bundler
-rwxr-xr-x 1 khk khk    497 Feb  8 14:29 bundle
-rwxr-xr-x 1 khk khk    486 Feb  8 14:29 thor
-rwxr-xr-x 1 khk khk    499 Feb  8 14:29 rails   <1>
-rwxr-xr-x 1 khk khk    514 Feb  8 14:37 asciidoctor
-rwxr-xr-x 1 khk khk    519 Feb  8 14:37 asciidoctor-safe
-rwxr-xr-x 1 khk khk    498 Feb  8 14:38 coderay
-rwxr-xr-x 1 khk khk    482 Feb  8 14:39 pry
----
<1> Die Kommandos #nokigiri, ..., rails# wurden durch +
    #gem install rails# installiert.


RubyGems Documentation Index
----------------------------
Auf die installierte Dokumentation zugreifen.
----
$ gem server
Server started at http://[0:0:0:0:0:0:0:0]:8808
----

----
Browser> http://localhost:8808/
         RubyGems Documentation Index   
----

image::images/jruby/rubygems_documentation_index.png[RubyGems Documentation Index]


JRuby on Rails 4.2: Erste Schritte &hellip;
-------------------------------------------
{jruby_1st-url}[JRuby on Rails 4.2: Erste Schritte &hellip;]


Anhang
------
Scripte zum Setzen der Umgebung von *JRuby* (ohne weitere Erläuterung)


.JRuby (mit System-JDK )
----
JRUBY_HOME=/opt/JRuby/sid/current19
#JRUBY_OPTS=--1.8   <1>

PATH=$JRUBY_HOME/bin:$PATH

export JRUBY_HOME
#export JRUBY_OPTS

export PATH
----
<1> JRuby wird im Modus _Ruby 1.8.7_ ausgeführt.


.JRuby (mit separatem JDK)
----
JAVA_BINDIR=/opt/Java/current/bin   <1>
JAVA_HOME=/opt/Java/current
JDK_HOME=/opt/Java/current
JRE_HOME=/opt/Java/current

JRUBY_HOME=/opt/JRuby/sid/current19
#JRUBY_OPTS=--1.8   <2>

# Tomcat
#CATALINA_OPTS='-server -Xms512m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=512m'

PATH=$JAVA_BINDIR:$JRUBY_HOME/bin:$PATH

export JAVA_BINDIR
export JAVA_HOME
export JDK_HOME
export JRE_HOME

export JRUBY_HOME
#export JRUBY_OPTS

#export CATALINA_OPTS

export PATH
----
<1> Eine von Hand installierte _JDK_-Version 
<2> JRuby wird im Modus _Ruby 1.8.7_ ausgeführt.




'''
 
+++
<a href="#top" title="zum Seitenanfang">
  <span>&#8679;</span> 
</a>
+++
[small]#&middot; Document generated with Asciidoctor {asciidoctor-version}.#

