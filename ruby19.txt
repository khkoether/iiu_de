Installation in Ubuntu: Ruby 1.9.3, Ruby on Rails 3.2.8 
=======================================================
Karl-Heinz Köther <&#107;&#104;&#107;&#111;&#101;&#116;&#104;&#101;&#114;&#064;&#107;&#097;&#104;&#119;&#101;&#098;&#046;&#100;&#101;>

:icons:
:Author Initials: KHK
:creativecommons-url: http://creativecommons.org/licenses/by-sa/3.0/de/
:ubuntu-url: http://www.ubuntu.com/
:asciidoc-url: http://www.methods.co.nz/asciidoc/
:ruby-url: http://www.ruby-lang.org/
:ruby-download-url: http://www.ruby-lang.org/de/downloads/
:ruby-ftp: ftp://www.ruby-lang.org/pub/ruby/1.9/
:rubyonrails-url: http://www.rubyonrails.org

:ruby-version: 1.9.3-p286
:ruby19ror-url: link:ruby19ror.html

Version 1.6.0, Oktober 2012, <<_changelog,[Changelog]>>


Abstract
--------
Dieser Artikel ist eine Schritt-für-Schritt Anleitung zur Installation 
von {ruby-url}[Ruby 1.9.3] aus dem QuellCode.
 
Die Programmiersprache {ruby-url}[Ruby] ist die Grundlage für das 
Framework {rubyonrails-url}[Ruby on Rails].

Der Artikel ist in {asciidoc-url}[AsciiDoc] erstellt worden.

[CAUTION]
====
Zu beachten ist, dass so ein Dokument zum Einen nie abschliessend 
sein kann, und zum Anderen bestimmte Konfigurationen anders, oder 
auf einem anderem Weg durchgeführt werden können. +
Gerne nehme ich Verbesserungsvorschläge entgegen.

Es gilt wie immer: Verwendung der Anleitung auf eigene Gefahr.
====


Vorraussetzungen
----------------
Die Installation wird für {ubuntu-url}[Ubuntu 12.04 LTS (Precise Pangolin)] 
beschrieben. +
Gleichwohl sind die einzelnen Schritte auch für 
andere Distributionen übertragbar.

[TIP]
====
Ubuntu 12.04 LTS (Precise Pangolin) enthält das Paket _ruby1.9.3_1.9.3.0-1ubuntu1_all_ 
(entspricht: Ruby 1.9.3p0). Das Paket _ruby1.8_1.8.7.352-2ubuntu1_ 
(entspricht: Ruby 1.8.7p352) ist in der Regel (über bestehende Abhängigkeiten zu
anderen Ubuntu-Paketen) bereits installiert.
====


Download
~~~~~~~~
* {ruby-ftp}[Ruby 1.9.3] +    
  ruby-{ruby-version}.tar.gz  (ca. 12M) +
  2012-10-12 (Release date)  

[NOTE] 
====
Nach Aussage von Yehuda Katz auf der RailsWay Con in Berlin, enthalten 
die Versionen Ruby 1.9.1 (Patch xxx) zuviele Fehler im 
Zusammenspiel mit Ruby on Rails. +
Daher sollte man tunlichst darauf verzichten sie zu installieren. +
Minimum ist die Version 1.9.2 von Ruby!
Stand der Dinge ist *2012* die Version Ruby 1.9.3! 
Für jedes neu aufzusetzende Projekt sollte diese Version verwendet werden.
====

[NOTE] 
====
Das Kompilieren der Programmiersprache Ruby wird vom Benutzer 'sid' 
durchgeführt. +
Die eigentliche Installation von Ruby und Ruby on Rails wird vom 
Benutzer 'root' für das System durchgeführt.
----
$ ls -l 
-rw-rw-r-- 1 sid sid 12459652 Okt 27 17:24 ruby-1.9.3-p286.tar.gz
----
====

[NOTE] 
====
Vor der eigentlichen Installation müssen die fehlenden 
Programm-Pakete installiert sind.
----
$ sudo apt-get install ...
               Benötigt:   build-essential libc6-dev  g++  make  dpkg-dev  
               Benötigt:   libssl-dev libmysqlclient-dev libsqlite3-dev    
               Benötigt:   libreadline6-dev libyaml-dev zlib1g-dev
               Benötigt:   libltdl-dev libtool
----
====


Installation
------------

Ruby {ruby-version}
~~~~~~~~~~~~~~~~~~~
Zusätzliche Software-Pakete  
sollten im Verzeichnis '/opt' (Optional) installiert werden. 

[IMPORTANT]
====
Ohne die Angabe eines Verzeichnisses wird '/usr/local/...' automatisch verwendet.
Eine bereits vorhandene Ruby-Installation wird überschrieben. +  
 +
Beispiel für die Änderung des Installations-Verzeichnisses:
'./configure --prefix=/opt/wo_auch_immer'
====

*Step 1:* Auspacken des Source-Code
----
$ tar xvzf ruby-1.9.3-p286.tar.gz
$ cd ruby-1.9.3-p286
----

*Step 2:* Konfiguration erstellen und kompilieren
----
$ sudo mkdir -p /opt/Ruby/ruby-1.9.3-p286
----

[NOTE]
====
Die Programm-Option 'configure --program-suffix=19' hilft nicht wirklich. Sie ändert 
die Namen der zu installierenden Binaries bsp. für 'ruby' auf 'ruby19'. Damit könnten die 
Dateien auch in das Verzeichnis '/usr/local/bin' installiert werden - scheinbar eine gute
Lösung - bis zu dem Moment wenn Rails installiert wird und die Programme 'rails' und 'rake'
ohne das Suffix '19' wiederum vorhandene Dateien überschreibt.
====

----
$ ./configure --prefix=/opt/Ruby/ruby-1.9.3-p286 | tee ../log.ruby_configure
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking target system type... x86_64-unknown-linux-gnu
checking for gcc... gcc
checking whether the C compiler works... yes
[...]
checking for nroff... /usr/bin/nroff
.ext/include/x86_64-linux/ruby/config.h updated
ruby library version = 1.9.1
configure: creating ./config.status
config.status: creating Makefile
config.status: creating ruby-1.9.pc
----

----
$ make all | tee ../log.ruby_make_all
        CC = gcc
        LD = ld
        LDSHARED = gcc -shared
        CFLAGS = -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration 
        XCFLAGS = -include ruby/config.h -include ruby/missing.h -fvisibility=hidden -DRUBY_EXPORT
        CPPFLAGS =   -I. -I.ext/include/x86_64-linux -I./include -I.
        DLDFLAGS =  
        SOLIBS = 
compiling main.c
[...]
Generating RDoc documentation   <1> 
lib/irb/inspector.rb:36:36: Couldn't find INSPECTORS. Assuming it's a module
lib/mkmf.rb:1117:29: Couldn't find STRING_OR_FAILED_FORMAT. Assuming it's a module
Enclosing class/module 'mDigest' for class MD5 not known
Enclosing class/module 'mDigest' for class RMD160 not known
Enclosing class/module 'mDigest' for class SHA1 not known
Enclosing class/module "cASN1ObjectId" for alias short_name sn not known
Enclosing class/module "cASN1ObjectId" for alias long_name ln not known

Generating RI format into /yggdrasil/PrecisePangolin/Ruby19/ruby-1.9.3-p286/.ext/rdoc...

Files:        772

Classes:     1374 ( 708 undocumented)
Modules:      306 ( 152 undocumented)
Constants:   2258 ( 828 undocumented)
Attributes:  1020 ( 441 undocumented)
Methods:    10468 (3100 undocumented)

Total:      15426 (5229 undocumented)
 66.10% documented

Elapsed: 116.9s
----
<1> Beim Erzeugen der _Ruby Documentation (RDoc)_ kommt es zu Fehlern!

----
$ make test | tee ../log.ruby_make_test
sample/test.rb:assignment ...................[...viele...]   <1>
sample/test.rb:condition ..
sample/test.rb:if/unless ...
sample/test.rb:case .....
[...]
test_thread.rb ..................................................
PASS all 947 tests
./miniruby -I./lib -I. -I.ext/common  ./tool/runruby.rb --extout=.ext  -- --disable-gems "./bootstraptest/runner.rb" --ruby="ruby"  ./KNOWNBUGS.rb
2012-10-27 17:40:53 +0200
Driver is ruby 1.9.3p286 (2012-10-12 revision 37165) [x86_64-linux]
Target is ruby 1.9.3p286 (2012-10-12 revision 37165) [x86_64-linux]


KNOWNBUGS.rb 
No tests, no problem   <2>
----
<1> Jeder ausgegebene _._ (Punkt) ist ein ausgeführter Test.
<2> Ruby-Humor ;-)

[NOTE]
====
Auf die folgenden Teile des Ruby-Interpreters verzichte ich in meiner
Installation. Sollten Sie sie benötigen, +
müssen die entsprechenden
Entwickler-Bibliotheken (libNAME-dev) zusätzlich installiert werden. 
 
Führen Sie anschließend die obigen Befehle (make ...) erneut aus.
----
$ grep Failed ../log.*
../log.ruby_make_all:Failed to configure -test-/win32/dln. It will not be installed.
../log.ruby_make_all:Failed to configure -test-/win32/fd_setsize. It will not be installed.
../log.ruby_make_all:Failed to configure dbm. It will not be installed.
../log.ruby_make_all:Failed to configure dl/win32. It will not be installed.
../log.ruby_make_all:Failed to configure fiddle. It will not be installed.
../log.ruby_make_all:Failed to configure gdbm. It will not be installed.
../log.ruby_make_all:Failed to configure tk. It will not be installed.
../log.ruby_make_all:Failed to configure tk/tkutil. It will not be installed.
../log.ruby_make_all:Failed to configure win32ole. It will not be installed.
----
====

*Step 3:* Installation (als Benutzer 'root') + 
(Dokumentation wird mitinstalliert: install-doc entfällt)
----
$ sudo make install | tee ../log.ruby_make_install
[...]
Generating RDoc documentation

No newer files.

Files:      0

Classes:    0 (0 undocumented)
Modules:    0 (0 undocumented)
Constants:  0 (0 undocumented)
Attributes: 0 (0 undocumented)
Methods:    0 (0 undocumented)

Total:      0 (0 undocumented)
  0.00% documented

Elapsed: 0.0s
./miniruby -I./lib -I. -I.ext/common  ./tool/rbinstall.rb --make="make" --dest-dir="" --extout=".ext" --mflags="" --make-flags="" --data-mode=0644 --prog-mode=0755 --installed-list .installed.list --mantype="doc" --install=all --rdoc-output=".ext/rdoc"
installing binary commands:   /opt/Ruby/ruby-1.9.3-p286/bin
installing base libraries:    /opt/Ruby/ruby-1.9.3-p286/lib
installing arch files:        /opt/Ruby/ruby-1.9.3-p286/lib/ruby/1.9.1/x86_64-linux
installing pkgconfig data:    /opt/Ruby/ruby-1.9.3-p286/lib/pkgconfig
installing extension objects: /opt/Ruby/ruby-1.9.3-p286/lib/ruby/1.9.1/x86_64-linux
installing extension objects: /opt/Ruby/ruby-1.9.3-p286/lib/ruby/site_ruby/1.9.1/x86_64-linux
installing extension objects: /opt/Ruby/ruby-1.9.3-p286/lib/ruby/vendor_ruby/1.9.1/x86_64-linux
installing extension headers: /opt/Ruby/ruby-1.9.3-p286/include/ruby-1.9.1/x86_64-linux
installing extension scripts: /opt/Ruby/ruby-1.9.3-p286/lib/ruby/1.9.1
installing extension scripts: /opt/Ruby/ruby-1.9.3-p286/lib/ruby/site_ruby/1.9.1
installing extension scripts: /opt/Ruby/ruby-1.9.3-p286/lib/ruby/vendor_ruby/1.9.1
installing extension headers: /opt/Ruby/ruby-1.9.3-p286/include/ruby-1.9.1/ruby
installing rdoc:              /opt/Ruby/ruby-1.9.3-p286/share/ri/1.9.1/system
installing capi-docs:         /opt/Ruby/ruby-1.9.3-p286/share/doc/ruby
installing command scripts:   /opt/Ruby/ruby-1.9.3-p286/bin
installing library scripts:   /opt/Ruby/ruby-1.9.3-p286/lib/ruby/1.9.1
installing common headers:    /opt/Ruby/ruby-1.9.3-p286/include/ruby-1.9.1
installing manpages:          /opt/Ruby/ruby-1.9.3-p286/share/man/man1
installing default gems:      /opt/Ruby/ruby-1.9.3-p286/lib/ruby/gems/1.9.1 (cache, doc, gems, specifications)
                              rake 0.9.2.2
                              rdoc 3.9.4
                              minitest 2.5.1
                              json 1.5.4
                              io-console 0.3
                              bigdecimal 1.1.0
----

*Step 4:* Installation verifizieren
----
$ cd /opt/Ruby/ruby-1.9.3-p286
$ ls -l
drwxr-xr-x 2 root root 4096 Okt 27 17:44 bin
drwxr-xr-x 3 root root 4096 Okt 27 17:44 include
drwxr-xr-x 4 root root 4096 Okt 27 17:44 lib
drwxr-xr-x 5 root root 4096 Okt 27 17:44 share
----

----
$ ls -l bin
-rwxr-xr-x 1 root root    4414 Okt 27 17:44 erb
-rwxr-xr-x 1 root root     563 Okt 27 17:44 gem
-rwxr-xr-x 1 root root     335 Okt 27 17:44 irb
-rwxr-xr-x 1 root root    1248 Okt 27 17:44 rake
-rwxr-xr-x 1 root root     805 Okt 27 17:44 rdoc
-rwxr-xr-x 1 root root     205 Okt 27 17:44 ri
-rwxr-xr-x 1 root root 8633475 Okt 27 17:34 ruby
-rwxr-xr-x 1 root root     315 Okt 27 17:44 testrb
----

*Step 5:* Der Pfad zum Verzeichnis '/opt/Ruby/ruby-{ruby-version}/bin' muß gesetzt werden. 

----
$ cd /opt/Ruby/
$ sudo ln -s ruby-1.9.3-p286 current

$ ls -l
lrwxrwxrwx 1 root root   15 Okt 27 17:47 current -> ruby-1.9.3-p286
drwxr-xr-x 6 root root 4096 Jan  4  2012 ruby-1.9.3-p0
drwxr-xr-x 7 root root 4096 Okt  4 14:25 ruby-1.9.3-p194
drwxr-xr-x 6 root root 4096 Okt 27 17:44 ruby-1.9.3-p286
----

.Lokal in der aktuellen Shell (1)
Erstellen Sie eine Datei 'ruby19.path.sh'.  
----
$ sudo vim ruby19.path.sh
PATH=/opt/Ruby/current/bin:$PATH
export PATH
----

[NOTE] 
=========================================================
Achtung: Ausführen der Datei mit dem Punkt-Operator!
----
$ . ruby19.path.sh   <1>
---- 
<1> Oder mit dem Bash-Builtin Kommando: _source ruby19.path.sh_
=========================================================

.Systemweit in der Datei '/etc/environment' (2)
----
$ sudo vim /etc/environment
PATH="/opt/Ruby/current/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
----


*Step 6:* Check

.Die Ruby-Version ...
----
$ which ruby
/opt/Ruby/current/bin/ruby   <1>

$ sudo which ruby            <2>
/opt/Ruby/current/bin/ruby

$ ruby -v                    <3>
ruby 1.9.3p286 (2012-10-12 revision 37165) [x86_64-linux]
----
<1> Das Kommando 'which' wertet den gesetzten 'PATH' für den Benutzer 'sid' aus +
<2> Das Kommando 'which' wertet den gesetzten 'PATH' für den Benuzter 'root' aus
<3> Ausgabe der Version des installierten Ruby


.Vollständigkeit ...
----
$ ruby -ropenssl -rzlib -rreadline -e "puts 'Happy new Ruby'"
Happy new Ruby
----

.Und ein Ruby1.9-Feature ...
----
irb(main):001:0> RUBY_VERSION
=> "1.9.3"
irb(main):002:0> Time.now.to_s
=> "2012-10-27 17:49:21 +0200"
irb(main):003:0> Time.now.sunday?
=> false
irb(main):004:0> Time.now.saturday?
=> true
irb(main):005:0> exit
----


Rubygems
~~~~~~~~
_RubyGems_ (oder kurz Gems) ist das offizielle Paketsystem für die 
Programmiersprache Ruby. Mit ihm hat der Anwender die Möglichkeit, 
mehrere (zum Beispiel ältere oder jüngere) Versionen eines Programmes, 
Programmteiles oder einer Bibliothek gesteuert nach Bedarf einzurichten, 
zu verwalten oder auch wieder zu entfernen. +
link:http://de.wikipedia.org/wiki/RubyGems[Wikipedia: RubyGems]

[NOTE]
====
Ruby 1.9 enthält bereits RubyGems - eine früher notwendige 
separate Installation entfällt.
====

*Step 1:* Vorraussetzung für die nächsten Befehle ist ein 
funktionierender 'PATH'-Eintrag für alle Benutzer (einschliesslich 'root') 
auf die Ruby1.9-Installation:
----
$ which gem
/opt/Ruby/current/bin/gem

$ sudo su -
# . /opt/Ruby/ruby19.path.sh
# which gem
/opt/Ruby/current/bin/gem
----

Dann gehen auch die folgenden Befehle
----
$ gem -v
1.8.23

$ gem list --local
*** LOCAL GEMS ***
bigdecimal (1.1.0)
io-console (0.3)
json (1.5.4)
minitest (2.5.1)
rake (0.9.2.2)
rdoc (3.9.4)
----

*Step 2:* Das Programm 'gem' aktualisieren ...
----
# gem update --system
Updating rubygems-update
Fetching: rubygems-update-1.8.24.gem (100%)
Successfully installed rubygems-update-1.8.24
Installing RubyGems 1.8.24
RubyGems 1.8.24 installed

== 1.8.24 / 2012-04-27

* 1 bug fix:

  * Install the .pem files properly. Fixes #320
  * Remove OpenSSL dependency from the http code path


 -----------------------------------------------------------------------------

RubyGems installed the following executables:
	/opt/Ruby/ruby-1.9.3-p286/bin/gem

RubyGems system software updated
----


*Step 3:* Installierte RubyGems aktualisieren
----
# gem update
Updating installed gems
Updating json
Fetching: json-1.7.5.gem (100%)
Building native extensions.  This could take a while...
Successfully installed json-1.7.5
Updating minitest
Fetching: minitest-4.1.0.gem (100%)
Successfully installed minitest-4.1.0
Updating rdoc
Fetching: rdoc-3.12.gem (100%)
Depending on your version of ruby, you may need to install ruby rdoc/ri data:

<= 1.8.6 : unsupported
 = 1.8.7 : gem install rdoc-data; rdoc-data --install
 = 1.9.1 : gem install rdoc-data; rdoc-data --install
>= 1.9.2 : nothing to do! Yay!
Successfully installed rdoc-3.12
Gems updated: json, minitest, rdoc
Installing ri documentation for json-1.7.5...
Installing ri documentation for minitest-4.1.0...
Installing ri documentation for rdoc-3.12...
Installing RDoc documentation for json-1.7.5...
Installing RDoc documentation for minitest-4.1.0...
Installing RDoc documentation for rdoc-3.12...
----

----
# gem list --local
*** LOCAL GEMS ***
bigdecimal (1.1.0)
io-console (0.3)
json (1.7.5, 1.5.4)
minitest (4.1.0, 2.5.1)
rake (0.9.2.2)
rdoc (3.12, 3.9.4)
rubygems-update (1.8.24)
----

*Step 4:* Dokumentation zu den installierten RubyGems aktualisieren
----
# cd /opt/Ruby/current   <1>  
# rdoc .
Parsing sources...
[...]
Couldn't find file to include 'README.txt' from lib/ruby/gems/1.9.1/gems/minitest-4.1.0/lib/minitest/unit.rb
Couldn't find file to include 'README.txt' from lib/ruby/1.9.1/minitest/unit.rb 
unable to convert "\x80" from ASCII-8BIT to UTF-8 for bin/ruby, skipping        
100% [998/998]  bin/update_rubygems                

Generating Darkfish format into /opt/Ruby/ruby-1.9.3-p286/doc...

Files:        998

Classes:     1192 ( 649 undocumented)
Modules:      296 ( 169 undocumented)
Constants:    920 ( 641 undocumented)
Attributes:  1002 ( 429 undocumented)
Methods:     6879 (2723 undocumented)

Total:      10289 (4611 undocumented)
 55.19% documented

Elapsed: 282.4s
----
<1> Entspricht: _/opt/Ruby/ruby-1.9.3-p286_

----
# ls -l
drwxr-xr-x  2 root root  4096 Okt 27 17:51 bin
drwxr-xr-x 66 root root 12288 Okt 27 17:57 doc       <1>
drwxr-xr-x  3 root root  4096 Okt 27 17:44 include
drwxr-xr-x  4 root root  4096 Okt 27 17:44 lib
drwxr-xr-x  5 root root  4096 Okt 27 17:44 share
----
<1> Das Dokumentations-Verzeichnis enthält die Datei _index.html_.

----
Browser> file:///opt/Ruby/current/doc/index.html
----


Ruby on Rails 3.2.8
~~~~~~~~~~~~~~~~~~~
*Step 1:* Wichtig ist hier die Systemweite Installation von 
Rails 3.2.8 mit dem Benutzer 'root'.
---- 
# gem install rails --rdoc --ri
Fetching: i18n-0.6.1.gem (100%)
[...]
Fetching: rails-3.2.8.gem (100%)
Successfully installed i18n-0.6.1
Successfully installed multi_json-1.3.6
Successfully installed activesupport-3.2.8
Successfully installed builder-3.0.4
Successfully installed activemodel-3.2.8
Successfully installed rack-1.4.1
Successfully installed rack-cache-1.2
Successfully installed rack-test-0.6.2
Successfully installed journey-1.0.4
Successfully installed hike-1.2.1
Successfully installed tilt-1.3.3
Successfully installed sprockets-2.1.3
Successfully installed erubis-2.7.0
Successfully installed actionpack-3.2.8
Successfully installed arel-3.0.2
Successfully installed tzinfo-0.3.34
Successfully installed activerecord-3.2.8
Successfully installed activeresource-3.2.8
Successfully installed mime-types-1.19
Successfully installed polyglot-0.3.3
Successfully installed treetop-1.4.11
Successfully installed mail-2.4.4
Successfully installed actionmailer-3.2.8
Successfully installed rack-ssl-1.3.2
Successfully installed thor-0.16.0
Successfully installed railties-3.2.8
Successfully installed bundler-1.2.1
Successfully installed rails-3.2.8
28 gems installed                                        <1>
Installing ri documentation for i18n-0.6.1...
[...]
Installing ri documentation for rails-3.2.8...
Installing RDoc documentation for i18n-0.6.1...
[...]
Installing RDoc documentation for rails-3.2.8...
----
<1> Für das Framework _Ruby on Rails_ wurden 28 RubyGems installiert.

[NOTE]
====
Alternativ kann Rails mit der Angabe einer Version installiert werden.
----
# gem install rails --version 3.2.8

# gem install rails --version '~> 3.2.0'   <1>
----
<1> Twiddle Wakka: '~> 3.2.0' bedeutet, das die höchste Gem-Version von Rails
    im Bereich von >= 3.2.0 und < 3.3 installiert wird. 
====

----
# gem update
Updating installed gems
Updating builder
Fetching: builder-3.1.4.gem (100%)
Successfully installed builder-3.1.4
Updating sprockets
Fetching: sprockets-2.8.0.gem (100%)
Successfully installed sprockets-2.8.0
Gems updated: builder, sprockets
Installing ri documentation for builder-3.1.4...
Installing ri documentation for sprockets-2.8.0...
Installing RDoc documentation for builder-3.1.4...
Installing RDoc documentation for sprockets-2.8.0...
----

----
$ gem list --local 
*** LOCAL GEMS ***
actionmailer (3.2.8)
actionpack (3.2.8)
activemodel (3.2.8)
activerecord (3.2.8)
activeresource (3.2.8)
activesupport (3.2.8)
arel (3.0.2)
bigdecimal (1.1.0)
builder (3.1.4, 3.0.4)
bundler (1.2.1)
erubis (2.7.0)
hike (1.2.1)
i18n (0.6.1)
io-console (0.3)
journey (1.0.4)
json (1.7.5, 1.5.4)
mail (2.4.4)
mime-types (1.19)
minitest (4.1.0, 2.5.1)
multi_json (1.3.6)
polyglot (0.3.3)
rack (1.4.1)
rack-cache (1.2)
rack-ssl (1.3.2)
rack-test (0.6.2)
rails (3.2.8)
railties (3.2.8)
rake (0.9.2.2)
rdoc (3.12, 3.9.4)
rubygems-update (1.8.24)
sprockets (2.8.0, 2.1.3)
thor (0.16.0)
tilt (1.3.3)
treetop (1.4.11)
tzinfo (0.3.34)
----

----
$ cd /opt/Ruby/current
$ ls -l bin
-rwxr-xr-x 1 root root     478 Okt 27 18:01 bundle
-rwxr-xr-x 1 root root    4414 Okt 27 17:44 erb
-rwxr-xr-x 1 root root     475 Okt 27 18:00 erubis
-rwxr-xr-x 1 root root     904 Okt 27 17:50 gem
-rwxr-xr-x 1 root root     335 Okt 27 17:44 irb
-rwxr-xr-x 1 root root     469 Okt 27 18:00 rackup
-rwxr-xr-x 1 root root     480 Okt 27 18:01 rails
-rwxr-xr-x 1 root root    1248 Okt 27 17:44 rake
-rwxr-xr-x 1 root root     472 Okt 27 18:00 rake2thor
-rwxr-xr-x 1 root root     467 Okt 27 17:51 rdoc
-rwxr-xr-x 1 root root     465 Okt 27 17:51 ri
-rwxr-xr-x 1 root root 8633475 Okt 27 17:34 ruby
-rwxr-xr-x 1 root root     487 Okt 27 18:06 sprockets
-rwxr-xr-x 1 root root     315 Okt 27 17:44 testrb
-rwxr-xr-x 1 root root     467 Okt 27 18:00 thor
-rwxr-xr-x 1 root root     467 Okt 27 18:00 tilt
-rwxr-xr-x 1 root root     474 Okt 27 18:00 tt
-rwxr-xr-x 1 root root     511 Okt 27 17:50 update_rubygems
----

*Step 2:* Installation der Datenbank-Treiber mit dem Benutzer 'root'.
---- 
# gem install mysql2 --rdoc --ri
Fetching: mysql2-0.3.11.gem (100%)
Building native extensions.  This could take a while...
Successfully installed mysql2-0.3.11
1 gem installed
Installing ri documentation for mysql2-0.3.11...
Installing RDoc documentation for mysql2-0.3.11...
----

[CAUTION]
====
_mysql2_ in der Version 0.3.x arbeitet nicht mit _Rails 3.0.x_ zusammen. +
Dementsprechend mu&szlig; eine älterer Version installiert werden!
----
# gem install mysql2 --version 0.2.11   <1>
[...]
----  
====

----
# gem install sqlite3 --rdoc --ri
Fetching: sqlite3-1.3.6.gem (100%)
Building native extensions.  This could take a while...
Successfully installed sqlite3-1.3.6
1 gem installed
Installing ri documentation for sqlite3-1.3.6...
Installing RDoc documentation for sqlite3-1.3.6...
----

[NOTE]
====
Hello! The sqlite3-ruby gem has changed it's name to just sqlite3.  Rather than
installing `sqlite3-ruby`, you should install `sqlite3`.  Please update your
dependencies accordingly.

Thanks from the Ruby sqlite3 team!

<3 <3 <3 <3
====


RubyGems Documentation Index
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Auf die installierte Dokumentation zugreifen.
----
$ jgem server
Server started at http://[0:0:0:0:0:0:0:0]:8808
----

----
Browser> http://localhost:8808/
         RubyGems Documentation Index   
----

image::images/ruby/rubygems_documentation_index.jpeg[RubyGems Documentation Index]


Beipiel
~~~~~~~
{ruby19ror-url}[Ruby on Rails: Erste Schritte]


Anhang
------
.Script zum Installieren von Ruby {ruby-version} (ohne weitere Erläuterung)
----
#!/bin/bash
#
ME=make_ruby_1.9.3
NAME=ruby-1.9.3-p286
TARGET=/opt/Ruby/${NAME}

if [ ! -e $TARGET ] 
then
  echo "Ziel-Verzeichnis '$TARGET' existiert nicht."
  echo "Abbruch."
  exit 1
fi
echo "Ziel-Verzeichnis:"
ls -l $TARGET

echo "Ruby 1.9.3-Installation fortsetzen (j/n)"
read dummy
case $dummy in
  j|J|y|Y) echo "Installation wird fortgesetzt."
           ;;
  *) echo "Installation wird abgebrochen."
     exit 1
     ;;
esac

echo 
echo "Source auspacken ..."
tar xvzf ${NAME}.tar.gz
cd ${NAME}

echo 
echo "Source übersetzen ..."
./configure --prefix=$TARGET --enable-shared | tee ../log.ruby_configure
make all  | tee ../log.ruby_make_all 
make test | tee ../log.ruby_make_test

echo
echo "Ruby 1.9.3 installieren"
sudo make install | tee ../log.ruby_make_install

echo
ls -l $TARGET

echo 
echo "$ME: Ende."
----

