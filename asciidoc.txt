Installation in Ubuntu: AsciiDoc 8.5.3
======================================
Karl-Heinz Köther <&#107;&#104;&#107;&#111;&#101;&#116;&#104;&#101;&#114;&#064;&#107;&#097;&#104;&#119;&#101;&#098;&#046;&#100;&#101;>

:icons:
:Author Initials: KHK
:creativecommons-url: http://creativecommons.org/licenses/by-sa/3.0/de/
:ubuntu-url: http://www.ubuntu.com/
:asciidoc-url: http://www.methods.co.nz/asciidoc/
:sourceforge-url: http://sourceforge.net/projects/asciidoc/files/

Version 1.1.0, Juli 2010, <<_changelog,[Changelog]>>

Abstract
--------
Der Artikel ist eine Schritt-für-Schritt Anleitung zur Installation 
des Programms {asciidoc-url}[AsciiDoc] aus dem QuellCode.
 
{asciidoc-url}[AsciiDoc] ist eine einfache Auszeichnungssprache, 
die dazu dient, Texte in verschiedenen Dokumentenformaten zu 
veröffentlichen.

Der Artikel ist in {asciidoc-url}[ASCII DOC] erstellt worden.


[CAUTION]
====
Zu beachten ist, dass so ein Dokument zum Einen nie abschliessend 
sein kann, und zum Anderen bestimmte Konfigurationen anders, oder 
auf einem anderem Weg durchgeführt werden können. +
Gerne nehme ich Verbesserungsvorschläge entgegen.

Es gilt wie immer: Verwendung der Anleitung auf eigene Gefahr.
====

Vorraussetzungen
----------------
Die Installation wird für {ubuntu-url}[Ubuntu 10.04 (Lucid Lynx)] 
beschrieben. + 
Gleichwohl sind die einzelnen Schritte auch für 
andere Debian-basierte GNU/Linux Distributionen übertragbar.

.Download
* {sourceforge-url}[AsciiDoc] +    
  asciidoc-8.5.3.tar.gz  (ca. 1.3 MB) +
  2010-01-17 (Release date)
  
[NOTE] 
====
Das Kompilieren der Auszeichnungssprache AsciiDoc wird beispielhaft vom Benutzer 'bob' 
durchgeführt. +
Die eigentliche Installation von AsciiDoc wird vom  
Benutzer 'root' für das System durchgeführt.
----
$ ls -l 
-rw-r--r-- 1 bob bob 1254979 2010-06-14 20:41 asciidoc-8.5.3.tar.gz
----
====

[NOTE] 
====
Vor der eigentlichen Installation müssen die fehlenden 
Programm-Pakete installiert sind.
----
$ sudo apt-get install ... 
               Benötigt:   python 
               Empfiehlt:  xmlto source-highlight vim-addon-manager 
----
====

== Installation


=== AsciiDoc 8.5.3

[IMPORTANT]
====
Ohne die Angabe eines Verzeichnisses wird '/usr/local/...' automatisch verwendet.
Eine bereits vorhandene AsciiDoc-Installation wird überschrieben. +  
 +
Beispiel für die Änderung des Installations-Verzeichnisses:
'./configure --prefix=/opt/wo_auch_immer'
====

*Step 1:* Auspacken des Source-Code
----
$ tar xvzf asciidoc-8.5.3.tar.gz
$ cd asciidoc-8.5.3
----

*Step 2:* Konfiguration erstellen und kompilieren
----
$ ./configure | tee ../log.asciidoc_configure
checking for a sed that does not truncate output... /bin/sed
checking whether ln -s works... yes
checking for a BSD-compatible install... /usr/bin/install -c
configure: creating ./config.status
config.status: creating Makefile
----

----
$ make | tee ../log.asciidoc_make
Fixing CONF_DIR in asciidoc.py
Fixing CONF_DIR in a2x
----

*Step 3:* Installation (als Benutzer 'root')
----
$ sudo make install | tee ../log.asciidoc_make_install
Fixing CONF_DIR in asciidoc.py
Fixing CONF_DIR in a2x
/usr/bin/install -c -d //usr/local/bin
[...]
----

----
$ sudo make docs | tee ../log.asciidoc_make_docs
/usr/bin/install -c -d //usr/local/share/doc/asciidoc
[...]
----

*Step 4:* Installation verifizieren
----
$ cd /usr/local/bin
$ ls -l
lrwxrwxrwx   1 root root       6 2010-06-14 20:44 a2x -> a2x.py
-rwxr-xr-x   1 root root   28208 2010-06-14 20:44 a2x.py
lrwxrwxrwx   1 root root      11 2010-06-14 20:44 asciidoc -> asciidoc.py
-rwxr-xr-x   1 root root  220707 2010-06-14 20:44 asciidoc.py
[...]
----

----
$ man a2x
A2X(1)                                                                  A2X(1)

NAME
       a2x - A toolchain manager for AsciiDoc (converts Asciidoc text files to
       other file formats)

SYNOPSIS
       a2x [OPTIONS] FILE
       
DESCRIPTION
       A DocBook toolchain manager that translates an AsciiDoc text file FILE
       to PDF, EPUB, DVI, PS, LaTeX, XHTML (single page or chunked), man page,
       HTML Help or plain text formats using asciidoc(1) and other
       applications (see REQUISITES section). FILE can also be a DocBook file
       with an .xml extension.       
[...]


$ man asciidoc 
ASCIIDOC(1)                                                        ASCIIDOC(1)

NAME
       asciidoc - converts an AsciiDoc text file to HTML or DocBook

SYNOPSIS
       asciidoc [OPTIONS] FILE
       
DESCRIPTION
       The asciidoc(1) command translates the AsciiDoc text file FILE to a
       DocBook, HTML or LinuxDoc file. If FILE is - then the standard input is
       used.       
[...]
----

----
$ find /usr -type d -cmin -5
/usr/local/share
/usr/local/share/man
/usr/local/share/man/man1
/usr/local/share/doc
/usr/local/share/doc/asciidoc
/usr/local/share/doc/asciidoc/docbook-xsl
/usr/local/share/doc/asciidoc/dblatex
/usr/local/share/doc/asciidoc/images
/usr/local/share/doc/asciidoc/images/icons
/usr/local/share/doc/asciidoc/images/icons/callouts
/usr/local/share/doc/asciidoc/examples
/usr/local/share/doc/asciidoc/examples/website
/usr/local/share/doc/asciidoc/stylesheets
/usr/local/share/doc/asciidoc/javascripts
/usr/local/share/doc/asciidoc/doc
/usr/local/bin
/usr/local/etc
/usr/local/etc/asciidoc
/usr/local/etc/asciidoc/docbook-xsl
/usr/local/etc/asciidoc/dblatex
/usr/local/etc/asciidoc/images
/usr/local/etc/asciidoc/images/icons
/usr/local/etc/asciidoc/images/icons/callouts
/usr/local/etc/asciidoc/stylesheets
/usr/local/etc/asciidoc/filters
/usr/local/etc/asciidoc/filters/music
/usr/local/etc/asciidoc/filters/code
/usr/local/etc/asciidoc/filters/source
/usr/local/etc/asciidoc/filters/graphviz
/usr/local/etc/asciidoc/javascripts
----

----
Browser> file:///usr/local/share/doc/asciidoc/examples/website/index.html
----


Changelog
---------

.Version 0.2
* Erste öffentliche Version

.Version 0.4
* Anpassung an Ubuntu 09.10 (Karmic Koala)

.Version 0.6
* Kleine Korrekturen am Text

.Version 0.8
* Hinweis zur Verwendung

.Version 0.8.1
* Aktualisierung der Installation

.Version 1.0.0
* Anpassung an Ubuntu 10.04 (Lucid Lynx) + 
  Neue Programmversion
  
.Version 1.1.0
* Version 8.5.3 ist weiterhin aktuell
  
