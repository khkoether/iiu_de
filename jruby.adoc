IiU -- JRuby 1.7.16.1, rails-4.2.0.rc1
======================================
Installation in Ubuntu — khkoether[at]kahweb[dot]de

:icons:
:Author Initials: KHK
:creativecommons-url: http://creativecommons.org/licenses/by/4.0/deed.de
:mit-url:             http://opensource.org/licenses/mit-license.php  
:ubuntu-url:          http://www.ubuntu.com/
:asciidoctor-url:     http://asciidoctor.org/
:asciidoctordocs-url: http://asciidoctor.org/docs/
:git-url:             http://git-scm.com/
:git-download-url:    https://www.kernel.org/pub/software/scm/git/

:java-url:            http://www.oracle.com/technetwork/java/javase/downloads/index.html
:jruby-url:           http://jruby.org/
:jruby-download-url:  http://jruby.org/download

:jdk-url:             link:jdk.html
:jruby-version:       1.7.16.1
:jruby_1st-url:       link:jruby_1st.html

Version 3.0.2, Dezember 2014


Abstract
--------
Dieser Artikel ist eine Schritt-für-Schritt Anleitung zur Installation 
von {jruby-url}[JRuby 1.7.16.1] unter GNU/Linux.
 
Die Programmiersprache {jruby-url}[JRuby] ist die Implementation 
von {ruby-url}[Ruby] in Java, die wiederum die Grundlage für das 
WebApplication Framework {rubyonrails-url}[Ruby on Rails] bildet. 

Der Artikel ist in {asciidoctordocs-url}[AsciiDoc] geschrieben 
und mit _Asciidoctor {asciidoctor-version}_ erstellt worden.

[CAUTION]
====
Zu beachten ist, dass so ein Dokument zum Einen nie abschliessend 
sein kann, und zum Anderen bestimmte Konfigurationen anders, oder 
auf einem anderem Weg durchgeführt werden können. 
Gerne nehme ich Verbesserungsvorschläge entgegen.

Es gilt wie immer: Verwendung der Anleitung auf eigene Gefahr.
====


Vorraussetzungen
----------------
Die Installation wird für {ubuntu-url}[Ubuntu 14.04 LTS (Trusty Tahr)] 
beschrieben. +
Gleichwohl sind die einzelnen Schritte auch für 
andere Debian-basierte GNU/Linux Distributionen übertragbar.

[TIP]
====
Ubuntu 14.04 LTS (Trusty Tahr) enthält das Paket _jruby_1.5.6-7_all_. 
====


Download
--------
* {jruby-download-url}[JRuby 1.7.16.1] +    
  `jruby-bin-1.7.16.1.tar.gz`  (ca. 31M) +
  2014-10-28 (Release date) -- Expect a new release about every 3 weeks 

[NOTE] 
====
Die neue _JRuby-Version 1.7_ wird seit 18 Monaten mit bestimmten Zielen entwickelt:

. JDK-Version 6 ist (mindestens) notwendig 
. Unterstützung der JDK-Version 7
. JRuby wird als im Modus _Ruby 1.9.3_ ausgeführt (neuer Default)
. JRuby unterstützt das neue Java-Feature 'invokedynamic' +
  (auch wenn es für den Moment ausgeschaltet ist - "due to JVM issues" ) +
  &rarr; http://www.jruby.org/2012/10/22/jruby-1-7-0.html[JRuby 1.7.0 Released]
  
.Mein Bauchgefühl sagt:
. JRuby 1.6.x -> JDK 6
. JRuby 1.7.x -> JDK 7

Andere mögliche Kombinationen erhöhen einfach den Beschreibungs-Aufwand für Support.     
====

[NOTE] 
====
Die Installation des _OpenJDK_ (_Oracle JDK_) wurde vom Benutzer 'root' 
systemweit durchgeführt +
&rarr; {jdk-url}[JDK]. +
Die Installation von _JRuby_ und _Ruby on Rails_ wird vom 
Benutzer 'sid' ausgeführt. 
----
$ ls -l 
-rw-rw-r-- 1 sid sid 32367197 Dez  5 16:43 jruby-bin-1.7.16.1.tar.gz
----
====


Installation: JRuby {jruby-version}
-----------------------------------
Zusätzliche Software-Pakete  
sollten im Verzeichnis +/opt+ (Optional) installiert werden. 

[CAUTION]
====
Installation im Verzeichnis `/opt/JRuby/sid` (mit dem Benutzer 'sid')
====

*Step 1*: Auspacken des Source-Code
----
$ tar xvzf jruby-bin-1.7.16.1.tar.gz
[...]

$ ls -l jruby-*
drwxr-xr-x 7 sid sid 4096 Okt 28 19:54 jruby-1.7.16.1
----

*Step 2*: Ziel-Verzeichnis anlegen, JRuby-Verzeichnis verschieben
----
$ sudo mkdir -p /opt/JRuby/sid 
$ sudo chown sid.sid /opt/JRuby/sid
----

----
$ mv jruby-1.7.16.1/ /opt/JRuby/sid
----

*Step 3*: Installation verifizieren
----
$ cd /opt/JRuby/sid/jruby-1.7.16.1
$ ls -l 
drwxr-xr-x 2 sid sid   4096 Dez  5 16:51 bin
-rw-r--r-- 1 sid sid 137174 Okt 28 19:45 COPYING
drwxrwxr-x 4 sid sid   4096 Dez  5 16:51 docs
drwxr-xr-x 4 sid sid   4096 Dez  5 16:51 lib
-rw-r--r-- 1 sid sid   2572 Okt 28 19:45 LICENSE.RUBY
drwxrwxr-x 6 sid sid   4096 Dez  5 16:51 samples
drwxrwxr-x 3 sid sid   4096 Dez  5 16:51 tool
----

----
$ ls -l bin
-rwxr-xr-x 1 sid sid   5670 Okt 28 19:54 ast       <1>
-rw-r--r-- 1 sid sid     40 Okt 28 19:54 ast.bat   <2>
-rwxr-xr-x 1 sid sid    123 Okt 28 19:54 gem
-rw-r--r-- 1 sid sid     40 Okt 28 19:54 gem.bat
-rwxr-xr-x 1 sid sid    323 Okt 28 19:54 irb
-rw-r--r-- 1 sid sid     40 Okt 28 19:54 irb.bat
-rwxr-xr-x 1 sid sid    547 Okt 28 19:54 jgem
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 jgem.bat
-rwxr-xr-x 1 sid sid    357 Okt 28 19:54 jirb
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 jirb.bat
-rwxr-xr-x 1 sid sid   1935 Okt 28 19:54 jirb_swing
-rw-r--r-- 1 sid sid     47 Okt 28 19:54 jirb_swing.bat
-rwxr-xr-x 1 sid sid  11474 Okt 28 19:54 jruby
-rwxr-xr-x 1 sid sid  11474 Okt 28 19:54 jruby.bash
-rw-r--r-- 1 sid sid    125 Okt 28 19:54 jruby.bat
-rwxr-xr-x 1 sid sid    188 Okt 28 19:54 jrubyc
-rw-r--r-- 1 sid sid     43 Okt 28 19:54 jrubyc.bat
-rw-r--r-- 1 sid sid    245 Okt 28 19:54 jrubyd.bat
-rw-r--r-- 1 sid sid 742400 Okt 28 19:54 jruby.dll
-rw-r--r-- 1 sid sid 680448 Okt 28 19:54 jruby.exe
-rwxr-xr-x 1 sid sid   8979 Okt 28 19:54 jruby.sh
-rw-r--r-- 1 sid sid 682496 Okt 28 19:54 jrubyw.exe
-rwxr-xr-x 1 sid sid    451 Okt 28 19:54 rake
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 rake.bat
-rwxr-xr-x 1 sid sid    451 Okt 28 19:54 rdoc
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 rdoc.bat
-rwxr-xr-x 1 sid sid    449 Okt 28 19:54 ri
-rw-r--r-- 1 sid sid     39 Okt 28 19:54 ri.bat
-rwxr-xr-x 1 sid sid    152 Okt 28 19:54 testrb
-rw-r--r-- 1 sid sid     43 Okt 28 19:54 testrb.bat
----
<1> Kommando #ast# für ein _GNU/Linux-System_
<2> Kommando #ast.bat# für ein _MS Windows-System_

*Step 4:* Der Pfad zum Verzeichnis `/opt/JRuby/sid` muß gesetzt werden.
----
$ cd /opt/JRuby/sid
$ ln -s jruby-1.7.16.1 current
$ ls -l
lrwxrwxrwx 1 sid sid   15 Dez  5 16:53 current -> jruby-1.7.16.1/
drwxr-xr-x 7 sid sid 4096 Okt 28 19:54 jruby-1.7.16.1
-rw-r--r-- 1 sid sid  131 Dez  5 16:52 jruby.path.sh
----

.Lokal in der aktuellen Shell
Erstellen Sie eine Datei `jruby.path.sh` (siehe <<_anhang,[Anhang]>>). 

[CAUTION]
====
In der Datei können Sie ebenfalls entscheiden auf welche der zu diesem
Zeitpunkt verfügbaren Java-Versionen Sie sich beziehen.

Wenn Sie die für das System installierte _JDK_-Version verwenden ... bedeutet 
das ... kein Eintrag. Haben Sie zusätzlich eine _JDK_-Version installiert
sollten Sie die hierfür notwendigen Umgebungsvariablen ebenfalls in dieser 
Datei setzen.
==== 

[NOTE] 
=========================================================
Achtung: Ausführen der Datei mit dem Punkt-Operator!
----
$ . jruby.path.sh   <1>
---- 
<1> Oder mit dem Bash-Builtin Kommando: #source &nbsp; jruby.path.sh#
=========================================================


*Step 5:* Check

.Die Java-Version
----
$ java -version
java version "1.7.0_65"
OpenJDK Runtime Environment (IcedTea 2.5.3) (7u71-2.5.3-0ubuntu0.14.04.1)
OpenJDK 64-Bit Server VM (build 24.65-b04, mixed mode)
----

.Die JRuby-Version ...
[options="nowrap"]
----
$ which jruby
/opt/JRuby/sid/current/bin/jruby

$ jruby --version   
jruby 1.7.16.1 (1.9.3p392) 2014-10-28 4e93f31 on OpenJDK 64-Bit Server VM 1.7.0_65-b32 +jit [linux-amd64]

$ jruby --version --1.8   <1>
jruby 1.7.16.1 (ruby-1.8.7p370) 2014-10-28 4e93f31 on OpenJDK 64-Bit Server VM 1.7.0_65-b32 +jit [linux-amd64]

$ jruby -v --2.0   <2>
jruby 1.7.16.1 (2.0.0p195) 2014-10-28 4e93f31 on OpenJDK 64-Bit Server VM 1.7.0_65-b32 +jit [linux-amd64]
----
<1> Weitere Möglichkeit: + 
    #JRUBY_OPTS=--1.8 &nbsp; jruby --version#
<2> Zu diesem Zeitpunkt als Experimentell gekennzeichnet.    

.Vollständigkeit
----
$ jruby -ropenssl -rzlib -rreadline -e "puts 'Happy new JRuby'"   <1>
Happy new JRuby
----
<1> Die Bibliothek _openssl_ ist in JRuby 1.7 bereits enthalten. +
    Eine vorher notwendige zusätzliche Installation entfällt. +
    &rarr; http://jruby.org/openssl[JRuby Builtin OpenSSL Support] 

.JRuby 1.7.16.1: _irb_, _jirb_
----
$ jirb   <1>
irb(main):001:0> RUBY_VERSION
=> "1.9.3"
irb(main):002:0> RUBY_PATCHLEVEL
=> 392
irb(main):003:0> Time.now.to_s
=> "2014-12-05 16:59:02 +0100"
irb(main):004:0> Time.now.sunday?
=> false
irb(main):005:0> Time.now.friday?
=> true
irb(main):006:0> exit
----
<1> Verwendet: Ruby 1.9.3p392 (default)

[NOTE]
====
Der Schalter #-S# führt dazu, daß für das Script zuerst  
das Verzeichnis `${JRUBY_HOME}/bin` geprüft wird -- und
erst im Anschluß der gesetzte +PATH+. 
----
$ jruby -S ...
----

Mit der Umgebungsvariablen _JRUBY_OPTS_ kann der ausgeführte Ruby-Modus 
(_1.8_ oder _1.9_ oder _2.0_) gesteuert werden.

----
$ export JRUBY_OPTS=--1.9   <1>
----
<1> Mit der JRuby-Version 1.7.x ist der Wert _--1.9_ der Standard!
====


Rubygems
--------
_RubyGems_ (oder kurz Gems) ist das offizielle Paketsystem für die 
Programmiersprache Ruby. Mit ihm hat der Anwender die Möglichkeit, 
mehrere (zum Beispiel ältere oder jüngere) Versionen eines Programmes, 
Programmteiles oder einer Bibliothek gesteuert nach Bedarf einzurichten, 
zu verwalten oder auch wieder zu entfernen. +
&rarr; http://de.wikipedia.org/wiki/RubyGems[Wikipedia: RubyGems]

[NOTE]
====
Die Aktualisierung der JRuby-Installation wird mit dem Benutzer 'sid' durchgeführt.
====

*Step 0:* Vorraussetzung für die nächsten Befehle ist ein 
funktionierender +PATH+-Eintrag für den Benutzer 'sid' 
auf die _JRuby 1.7.16.1_-Installation:

[options="nowrap"]
----
$ which gem
/opt/JRuby/sid/current/bin/gem

$ which jgem
/opt/JRuby/sid/current/bin/jgem
----

Dann gehen auch die folgenden Befehle

----
$ gem -v
2.1.9

$ gem list --local

*** LOCAL GEMS ***

axiom-types (0.1.1)
coercible (1.0.0)
descendants_tracker (0.0.4)
equalizer (0.0.9)
ffi (1.9.3 java)    <1>
ice_nine (0.11.0)
jar-dependencies (0.1.2)
jruby-openssl (0.9.5 java)
json (1.8.0 java)
krypt (0.0.2)
krypt-core (0.0.2 universal-java)
krypt-provider-jdk (0.0.2)
maven-tools (1.0.5)
rake (10.1.0)
rdoc (4.0.1)
ruby-maven (3.1.1.0.8)
ruby-maven-libs (3.1.1)
thread_safe (0.3.4 java)
virtus (1.0.3)
----
<1> In _Java_ implementierte _Ruby_-Bibliothek!


update
~~~~~~
*Step 1:* Das Programm '(j)gem' aktualisieren (als Benutzer 'sid')
----
$ jgem update --system
Updating rubygems-update
Fetching: rubygems-update-2.4.5.gem (100%)
Successfully installed rubygems-update-2.4.5
Installing RubyGems 2.4.5
RubyGems 2.4.5 installed

=== 2.4.5 / 2014-12-03

Bug fixes:

* Improved speed of requiring gems.  (Around 25% for a 60 gem test).  Pull
  request #1060 by unak.
  
...

 -----------------------------------------------------------------------------

RubyGems installed the following executables:
	/opt/JRuby/sid/jruby-1.7.16.1/bin/jgem

RubyGems system software updated
----

[TIP]
.gem command reference
====
*GEM UPDATE*

Usage
----
gem update REGEXP [REGEXP ...] [options]
----

_Options_: +

* -​-system [VERSION] - Update the RubyGems system software
* -​-platform PLATFORM - Specify the platform of gem to update
* -​-[no-]prerelease - Allow prerelease versions of a gem as update targets

-> http://guides.rubygems.org/command-reference/[RubyGems Guides: COMMAND REFERENCE]
====

----
$ gem -v
2.4.5 

$ jgem -v
2.4.5
----

[NOTE]
====
.(j)gem  
An sich können beide Programme benutzt werden, wobei sowohl der Aufruf
und auch deren Ergebnisse identisch sind.
Sie sind ausschließlich aus Bequemlichkeit
für eine 'private' Sichtweise alternativ vorhanden. 

Das *gem* betont die Verbundenheit zu Ruby, während *jgem*
wiederum auf die Umsetzung in Java hinweist.

Praktisch sollen die Programme _etwas?_ differieren ... und 
das Angebot *jgem* ist _mehr?_ up-to-date ... 

Persönlich favorisiere ich *jruby -S gem ...* -- aber *jgem ...* äh *gem ...* ist kürzer ;-)
====


*Step 2:* Installierte RubyGems aktualisieren
----
$ gem update
Updating installed gems
Updating ffi
Fetching: ffi-1.9.6-java.gem (100%)
Successfully installed ffi-1.9.6-java
Updating ice_nine
Fetching: ice_nine-0.11.1.gem (100%)
Successfully installed ice_nine-0.11.1
Updating jar-dependencies
Fetching: jar-dependencies-0.1.7.gem (100%)
Successfully installed jar-dependencies-0.1.7
Updating json
Fetching: json-1.8.1-java.gem (100%)
Successfully installed json-1.8.1-java
Updating maven-tools
Fetching: maven-tools-1.0.7.gem (100%)
Successfully installed maven-tools-1.0.7
Updating rake
Fetching: rake-10.4.2.gem (100%)
Successfully installed rake-10.4.2
Updating rdoc
Fetching: rdoc-4.1.2.gem (100%)
Depending on your version of ruby, you may need to install ruby rdoc/ri data:

<= 1.8.6 : unsupported
 = 1.8.7 : gem install rdoc-data; rdoc-data --install
 = 1.9.1 : gem install rdoc-data; rdoc-data --install
>= 1.9.2 : nothing to do! Yay!
Successfully installed rdoc-4.1.2
Gems updated: ffi ice_nine jar-dependencies json maven-tools rake rdoc   <1>
----
<1> Sieben _Gems_ aktualisiert! 
   
----
$ gem list --local

*** LOCAL GEMS ***

axiom-types (0.1.1)
coercible (1.0.0)
descendants_tracker (0.0.4)
equalizer (0.0.9)
ffi (1.9.6 java, 1.9.3 java)
ice_nine (0.11.1, 0.11.0)
jar-dependencies (0.1.7, 0.1.2)
jruby-openssl (0.9.5 java)
json (1.8.1 java, 1.8.0 java)
krypt (0.0.2)
krypt-core (0.0.2 universal-java)
krypt-provider-jdk (0.0.2)
maven-tools (1.0.7, 1.0.5)
rake (10.4.2, 10.1.0)
rdoc (4.1.2, 4.0.1)
ruby-maven (3.1.1.0.8)
ruby-maven-libs (3.1.1)
rubygems-update (2.4.5)
thread_safe (0.3.4 java)
virtus (1.0.3)
----


*Step 3:* Die _Ruby-Documentation_ installieren
----
$ gem install rdoc-data
Fetching: rdoc-data-4.0.1.gem (100%)
rdoc-data is only required for C ruby 1.8.7 or 1.9.1.

rdoc-data is required for JRuby.   <1>

To install ri data for RDoc 4.0+ run:

  rdoc-data --install

Successfully installed rdoc-data-4.0.1
1 gem installed
----
<1> Notwendig für _JRuby_!

[options="nowrap"]
----
$ which rdoc-data
/opt/JRuby/sid/current/bin/rdoc-data

$ rdoc-data --install   <1>
/opt/JRuby/sid/jruby-1.7.16.1/lib/ruby/gems/shared/gems/rdoc-4.1.2/lib/rdoc/ri/paths.rb:15 warning: already initialized constant BASE
/opt/JRuby/sid/jruby-1.7.16.1/lib/ruby/gems/shared/gems/rdoc-4.1.2/lib/rdoc/ri/paths.rb:29 warning: already initialized constant HOMEDIR
----
<1> Installs updated ruby 1.9.3 system ri data (core + stdlib)

----
$ ri Array#each
= Array#each

(from ruby core)
 -----------------------------------------------------------------------------
  ary.each {|item| block }   -> ary
  ary.each                   -> an_enumerator

 -----------------------------------------------------------------------------

Calls block once for each element in self, passing that element as a
parameter.

If no block is given, an enumerator is returned instead.

  a = [ "a", "b", "c" ]
  a.each {|x| print x, " -- " }

produces:

  a -- b -- c --
----


Installation: Ruby on rails-4.2.0.rc1
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
*Step 0* 
----
# gem search ^rails$ --remote

*** REMOTE GEMS ***

rails (4.1.8)   <1>
----
<1> Aktuell neueste Version von _rails_. +
    Ich installiere aber die oben genannte Version *4.2.0.rc1*!

[TIP]
====
Die Installation der Dokumentation kann ausgelassen werden.
----
# gem install rails --pre --no-rdoc --no-ri   <1> <2>
---- 
<1> #--pre#  installiert die letzte nicht-offizielle Version: _rails-4.2.0.rc1_ 
<2> #--no-rdoc --no-ri# In der Regel wird die offizielle Dokumentation genutzt: +
    -> http://guides.rubyonrails.org/ 
====

Mit #gem install ...# werden auch alle Abhängigkeiten zu anderen RubyGems aufgelöst. 

----
$ gem install rails --pre --no-rdoc --no-ri   
Fetching: minitest-5.4.3.gem (100%)
Successfully installed minitest-5.4.3
...
Fetching: rails-4.2.0.rc1.gem (100%)
Successfully installed rails-4.2.0.rc1
32 gems installed   <1>
----
<1> Mit dem RubyGem _rails-4.2.0.rc1_ wurden insgesamt 32 Gems installiert. +
    Hinweis: Weitere RubyGems müssen für das Framework *Ruby on Rails* installiert werden.

[NOTE]
====
Alternativ kann _Rails_ mit der Angabe einer Version installiert werden.
----
# gem install rails --version 4.1.8

# gem install rails --version '~> 4.1.8'   <1>
----
<1> Twiddle Wakka: '~> 4.1.8' bedeutet, das die höchste Gem-Version von Rails +
    im Bereich von >= 4.1.8 und < 4.2 installiert wird. 
====


asciidoctor
~~~~~~~~~~~ 
----
$ gem install asciidoctor       <1> <2>
Fetching: asciidoctor-1.5.2.gem (100%)
Successfully installed asciidoctor-1.5.2
1 gem installed

$ gem install coderay         <2> <3>   
Fetching: coderay-1.1.0.gem (100%)
Successfully installed coderay-1.1.0
1 gem installed
----
<1> *Asciidoctor* is an open source Ruby processor for converting _AsciiDoc_ markup +
    into HTML 5, DocBook 4.5 and other formats.
<2> Dokumentation wurde ebenfalls erstellt.
<3> *CodeRay* is a fast and easy syntax highlighting for selected languages, written in Ruby. +
    Comes with RedCloth integration and LOC counter.


sinatra
~~~~~~~ 
----
# gem install sinatra --no-rdoc --no-ri   <1>
Fetching: rack-1.5.2.gem (100%)
Successfully installed rack-1.5.2
Fetching: rack-protection-1.5.3.gem (100%)
Successfully installed rack-protection-1.5.3
Fetching: sinatra-1.4.5.gem (100%)
Successfully installed sinatra-1.4.5
3 gems installed
----
<1> *Sinatra* ist eine _freie_ und _open source Webapplikationsbibliothek_ und + 
    eine in Ruby geschriebene _domänenspezifische_ Sprache. +
    *Sinatra* setzt das Rack Webserver-Interface voraus. +
    &rarr; http://de.wikipedia.org/wiki/Sinatra_%28Software%29[Wikipedia: Sinatra (Software)]

    
list
~~~~  
*Step 5:* Liste der installierte RubyGems
----
$ gem list --local

*** LOCAL GEMS ***

actionmailer (4.2.0.rc1)
actionpack (4.2.0.rc1)
actionview (4.2.0.rc1)
activejob (4.2.0.rc1)
activemodel (4.2.0.rc1)
activerecord (4.2.0.rc1)
activesupport (4.2.0.rc1)
arel (6.0.0)
asciidoctor (1.5.2)
axiom-types (0.1.1)
builder (3.2.2)
bundler (1.7.7)
coderay (1.1.0)
coercible (1.0.0)
descendants_tracker (0.0.4)
equalizer (0.0.9)
erubis (2.7.0)
ffi (1.9.6 java, 1.9.3 java)
globalid (0.3.0)
hike (1.2.3)
i18n (0.7.0.beta1)
ice_nine (0.11.1, 0.11.0)
jar-dependencies (0.1.7, 0.1.2)
jruby-openssl (0.9.5 java)
json (1.8.1 java, 1.8.0 java)
krypt (0.0.2)
krypt-core (0.0.2 universal-java)
krypt-provider-jdk (0.0.2)
loofah (2.0.1)
mail (2.6.3)
maven-tools (1.0.7, 1.0.5)
mime-types (2.4.3)
minitest (5.4.3)
multi_json (1.10.1)
nokogiri (1.6.5 java)
rack (1.6.0.beta2, 1.5.2)
rack-protection (1.5.3)
rack-test (0.6.2)
rails (4.2.0.rc1)
rails-deprecated_sanitizer (1.0.3)
rails-dom-testing (1.0.5)
rails-html-sanitizer (1.0.1)
railties (4.2.0.rc1)
rake (10.4.2, 10.1.0)
rdoc (4.1.2, 4.0.1)
rdoc-data (4.0.1)
ruby-maven (3.1.1.0.8)
ruby-maven-libs (3.1.1)
rubygems-update (2.4.5)
sinatra (1.4.5)
sprockets (2.12.3)
sprockets-rails (2.2.2)
thor (0.19.1)
thread_safe (0.3.4 java)
tilt (1.4.1)
tzinfo (1.2.2)
virtus (1.0.3)
----

----
$ ls -lrt /opt/JRuby/sid/jruby-1.7.16.1/bin
-rw-r--r-- 1 sid sid     43 Okt 28 19:54 testrb.bat
-rwxr-xr-x 1 sid sid    152 Okt 28 19:54 testrb
-rw-r--r-- 1 sid sid     39 Okt 28 19:54 ri.bat
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 rdoc.bat
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 rake.bat
-rw-r--r-- 1 sid sid 682496 Okt 28 19:54 jrubyw.exe
-rwxr-xr-x 1 sid sid   8979 Okt 28 19:54 jruby.sh
-rw-r--r-- 1 sid sid 680448 Okt 28 19:54 jruby.exe
-rw-r--r-- 1 sid sid 742400 Okt 28 19:54 jruby.dll
-rw-r--r-- 1 sid sid    245 Okt 28 19:54 jrubyd.bat
-rw-r--r-- 1 sid sid     43 Okt 28 19:54 jrubyc.bat
-rwxr-xr-x 1 sid sid    188 Okt 28 19:54 jrubyc
-rw-r--r-- 1 sid sid    125 Okt 28 19:54 jruby.bat
-rwxr-xr-x 1 sid sid  11474 Okt 28 19:54 jruby.bash
-rwxr-xr-x 1 sid sid  11474 Okt 28 19:54 jruby
-rw-r--r-- 1 sid sid     47 Okt 28 19:54 jirb_swing.bat
-rwxr-xr-x 1 sid sid   1935 Okt 28 19:54 jirb_swing
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 jirb.bat
-rwxr-xr-x 1 sid sid    357 Okt 28 19:54 jirb
-rw-r--r-- 1 sid sid     41 Okt 28 19:54 jgem.bat
-rw-r--r-- 1 sid sid     40 Okt 28 19:54 irb.bat
-rwxr-xr-x 1 sid sid    323 Okt 28 19:54 irb
-rw-r--r-- 1 sid sid     40 Okt 28 19:54 gem.bat
-rwxr-xr-x 1 sid sid    123 Okt 28 19:54 gem
-rw-r--r-- 1 sid sid     40 Okt 28 19:54 ast.bat
-rwxr-xr-x 1 sid sid   5670 Okt 28 19:54 ast
-rwxr-xr-x 1 sid sid    495 Dez  5 22:16 update_rubygems
-rwxr-xr-x 1 sid sid    568 Dez  5 22:16 jgem
-rwxr-xr-x 1 sid sid    534 Dez  5 22:21 bundle-with-jars
-rwxr-xr-x 1 sid sid    486 Dez  5 22:21 rake
-rwxr-xr-x 1 sid sid    484 Dez  5 22:21 ri
-rwxr-xr-x 1 sid sid    486 Dez  5 22:21 rdoc
-rwxr-xr-x 1 sid sid    567 Dez  5 22:27 rdoc-data
-rwxr-xr-x 1 sid sid    502 Dez  5 22:45 nokogiri    <1>
-rwxr-xr-x 1 sid sid    494 Dez  5 22:46 erubis
-rwxr-xr-x 1 sid sid    486 Dez  5 22:46 tilt
-rwxr-xr-x 1 sid sid    506 Dez  5 22:46 sprockets
-rwxr-xr-x 1 sid sid    498 Dez  5 22:46 bundler
-rwxr-xr-x 1 sid sid    497 Dez  5 22:46 bundle
-rwxr-xr-x 1 sid sid    486 Dez  5 22:46 thor
-rwxr-xr-x 1 sid sid    499 Dez  5 22:46 rails   <1>
-rwxr-xr-x 1 sid sid    519 Dez  5 22:51 asciidoctor-safe
-rwxr-xr-x 1 sid sid    514 Dez  5 22:51 asciidoctor
-rwxr-xr-x 1 sid sid    498 Dez  5 22:52 coderay
-rwxr-xr-x 1 sid sid    488 Dez  5 22:53 rackup
----
<1> Die Kommandos #nokigiri, ..., rails# wurden durch +
    #gem install rails --pre# installiert.


RubyGems Documentation Index
----------------------------
Auf die installierte Dokumentation zugreifen.
----
$ gem server
Server started at http://[0:0:0:0:0:0:0:0]:8808
----

----
Browser> http://localhost:8808/
         RubyGems Documentation Index   
----

image::images/jruby/rubygems_documentation_index.png[RubyGems Documentation Index]


JRuby on Rails 4.2: Erste Schritte &hellip;
-------------------------------------------
{jruby_1st-url}[JRuby on Rails 4.2: Erste Schritte &hellip;]


Anhang
------
Scripte zum Setzen der Umgebung von *JRuby* (ohne weitere Erläuterung)


.JRuby (mit System-JDK )
----
JRUBY_HOME=/opt/JRuby/sid/current
#JRUBY_OPTS=--1.8   <1>

PATH=$JRUBY_HOME/bin:$PATH

export JRUBY_HOME
#export JRUBY_OPTS

export PATH
----
<1> JRuby wird im Modus _Ruby 1.8.7_ ausgeführt.


.JRuby (mit separatem JDK)
----
JAVA_BINDIR=/opt/Java/current/bin   <1>
JAVA_HOME=/opt/Java/current
JDK_HOME=/opt/Java/current
JRE_HOME=/opt/Java/current

JRUBY_HOME=/opt/JRuby/sid/current
#JRUBY_OPTS=--1.8   <2>

# Tomcat
#CATALINA_OPTS='-server -Xms512m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=512m'

PATH=$JAVA_BINDIR:$JRUBY_HOME/bin:$PATH

export JAVA_BINDIR
export JAVA_HOME
export JDK_HOME
export JRE_HOME

export JRUBY_HOME
#export JRUBY_OPTS

#export CATALINA_OPTS

export PATH
----
<1> Eine von Hand installierte _JDK_-Version 
<2> JRuby wird im Modus _Ruby 1.8.7_ ausgeführt.




'''
 
+++
<a href="#top" title="zum Seitenanfang">
  <span>&#8679;</span> 
</a>
+++
[small]#&middot; Document generated with Asciidoctor {asciidoctor-version}.#

